<!DOCTYPE html>
<html lang="en">
  <head>

    <title>Novedades</title>

    <link rel="shortcut icon" href="Imagenes/calavara_icon.ico" />

    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="css/mapas.css" />
  </head>
  <body>
    <!--Barra de navegacion-->
    <!-- Logo -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
          <!-- Logo -->

          <a class="navbar-brand fs-4" href="index.html"
            ><img src="Imagenes/logo.png" class="logo" alt=""></a
          >
          <!-- Toogle Btn -->
          <button
            class="navbar-toggler shadow-none border-0"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasNavbar"
            aria-controls="offcanvasNavbar"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon toggler-icon-white"></span>
          </button>

          <!-- SideBar -->
          <div
            class="sidebar offcanvas offcanvas-start"
            tabindex="-1"
            id="offcanvasNavbar"
            aria-labelledby="offcanvasNavbarLabel"
          >
            <!-- SideBar Header -->
            <div class="offcanvas-header text-white border-bottom ">
              <img src="Imagenes/logo.png" class="logo" alt="">
              <button
                type="button"
                class="btn-close btn-close-white shadow-none"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>

            <!-- SideBar body -->
            <div class="offcanvas-body">
              <ul
                class="navbar-nav justify-content-end align-items-center fs-5 flex-grow-1 endpe-3"
              >
                <li class="nav-item dropdown mx-1">
                  <a
                    class="nav-link"
                    href="#"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Sobre el juego
                  </a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="killer.html">Killers</a></li>
                    <li><a class="dropdown-item" href="survis.html">Survis</a></li>
                    <li><a class="dropdown-item" href="mapas.html">Mapas</a></li>
                    <li>
                      <a class="dropdown-item" href="guia.html"
                        >Guia para principiantes</a
                      >
                    </li>
                  </ul>
                </li>

                <li class="nav-item mx-2">
                  <a class="nav-link" href="novedades.html">Novedades</a>
                </li>

                <li class="nav-item dropdown mx-2">
                  <a
                    class="nav-link"
                    href="#"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Comunidad
                  </a>
                  <ul class="dropdown-menu">
                    
                    <li>
                      <a class="dropdown-item" href="creadores.html"
                        >Creadores de contenido</a
                      >
                    </li>
                    <li><a class="dropdown-item" href="redes.html">Redes</a></li>
                  </ul>
                </li>

                <li class="nav-item mx-2">
                  <a class="nav-link" href="comprar.html">Comprar</a>
                </li>

                <li class="">
                  <a
                    href="login.html"
                    class="vip-button text-decoration-none px-3 py-1 rounded"
                    >VIP</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>

    

    <div id="sombra-fondo"></div>
    <img src="Imagenes/wallpapers/hoguera.png" id="wallpaper" alt="" />

    <div class="title">
    <h1>Últimas Novedades</h1>
  </div>


<div class="container-fluid cartas">
  <div class="row" id="novedades-container"></div>
</div>

<script>
  fetch('/json/novedades.json')
    .then(response => response.json())
    .then(data => {
      const container = document.getElementById('novedades-container');

      data.forEach((novedad, index) => {
        const card = document.createElement('div');
        card.className = 'col-lg-4 col-md-6 mb-4'; // Ajuste de columnas responsivo

        card.innerHTML = `
          <div class="card h-100">
            <img src="${novedad.imagen}" class="card-img-top map-image-zoomable" alt="novedad ${index + 1}" onclick="toggleZoom('${novedad.imagen}')" />
            <div class="card-body">
              <h5 class="card-title">${novedad.titulo}</h5>
              <p class="card-text">${novedad.descripcion}</p>
              <p class="card-date">Publicado - ${novedad.fecha}</p>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    })
    .catch(error => console.error('Error cargando el JSON:', error));
</script>

    <div id="imageZoomModal" class="modal">
      <span class="close-button" onclick="closeZoom()">&times;</span>
      <img class="modal-content" id="zoomedImage" />
    </div>

    <style></style>

    <script>
      // Obtener el modal
      var modal = document.getElementById("imageZoomModal");

      // Obtener la imagen dentro del modal
      var zoomedImage = document.getElementById("zoomedImage");

      // Función para abrir el modal y mostrar la imagen ampliada
      function toggleZoom(imageSrc) {
        modal.style.display = "block";
        zoomedImage.src = imageSrc;
      }

      // Función para cerrar el modal
      function closeZoom() {
        modal.style.display = "none";
      }

      // Cerrar el modal si se hace clic fuera de la imagen
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };
    </script>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>

    <!-- Script para que desaparezca el navabar cuando scroleas para abajo -->
    <script>
      let prevScrollpos = window.pageYOffset;

      window.onscroll = function () {
        let currentScrollPos = window.pageYOffset;
        let navbar = document.querySelector(".navbar");

        if (prevScrollpos > currentScrollPos) {
          navbar.style.top = "0";
        } else {
          navbar.style.top = "-70px";
        }
        prevScrollpos = currentScrollPos;
      };
    </script>
  </body>
</html>
